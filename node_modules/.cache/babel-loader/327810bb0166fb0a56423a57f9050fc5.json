{"ast":null,"code":"import _asyncToGenerator from\"/home/ec2-user/ShoppingApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/ec2-user/ShoppingApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/ec2-user/ShoppingApp/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import axios from'./api/axios';import Header from'./Header';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ORDER_URL='/v1/order/user';var Profile=function Profile(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),order=_useState2[0],setOrder=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),userData=_useState4[0],setUserData=_useState4[1];useEffect(function(){getUser();},[!userData]);var getUser=function getUser(){var response=JSON.parse(localStorage.getItem('user'));setUserData(response);};useEffect(function(){orderList();},[!order]);var navigate=useNavigate();var orderList=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var user,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:user=JSON.parse(localStorage.getItem('user'));_context.next=3;return axios.get(\"\".concat(ORDER_URL,\"/\").concat(user===null||user===void 0?void 0:user.id));case 3:response=_context.sent;console.log('orders',response);// const response = [\n//     {\n//         id: 1,\n//         amount: 200,\n//         imageUrl: '',\n//         itemName: 'Reebok shoes',\n//         description: 'This is reebok shoes'\n//     }\n// ]\nsetOrder(response.data);case 6:case\"end\":return _context.stop();}}},_callee);}));return function orderList(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid profile-container\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 profile-head\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"b\",{children:[\"Welcome \",userData===null||userData===void 0?void 0:userData.username]}),\" | \",userData===null||userData===void 0?void 0:userData.email]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"text-center\",children:\"Your Orders\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 p-2\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),order===undefined?/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{})]})}):/*#__PURE__*/_jsx(\"tbody\",{children:order?order.map(function(element){console.log('element order',element);return element===null||element===void 0?void 0:element.item.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item===null||item===void 0?void 0:item.itemName}),/*#__PURE__*/_jsx(\"td\",{children:item===null||item===void 0?void 0:item.cost}),/*#__PURE__*/_jsx(\"td\",{children:item===null||item===void 0?void 0:item.quantity}),/*#__PURE__*/_jsx(\"td\",{children:item===null||item===void 0?void 0:item.price}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{className:\"btn btn-outline-primary\",onClick:function onClick(){return navigate('/order');},children:\"Track\"})})]},item===null||item===void 0?void 0:item.id);});}):/*#__PURE__*/_jsx(_Fragment,{})})]})})})]})]})]});};export default Profile;","map":{"version":3,"sources":["/home/ec2-user/ShoppingApp/src/Profile.jsx"],"names":["React","useState","useEffect","useNavigate","axios","Header","ORDER_URL","Profile","order","setOrder","userData","setUserData","getUser","response","JSON","parse","localStorage","getItem","orderList","navigate","user","get","id","console","log","data","username","email","undefined","map","element","item","itemName","cost","quantity","price"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport axios from './api/axios'\nimport Header from './Header'\nconst ORDER_URL = '/v1/order/user'\n\nconst Profile = () => {\n    const [order, setOrder] = useState()\n    let [userData, setUserData] = useState()\n    useEffect(() => {\n        getUser()\n    }, [!userData])\n\n    const getUser = () => {\n        let response = JSON.parse(localStorage.getItem('user'));\n        setUserData(response)\n    }\n    useEffect(() => {\n        orderList()\n    }, [!order])\n\n    const navigate = useNavigate()\n    const orderList = async () => {\n        let user = JSON.parse(localStorage.getItem('user'));\n        const response = await axios.get(`${ORDER_URL}/${user?.id}`)\n        console.log('orders', response);\n        // const response = [\n        //     {\n        //         id: 1,\n        //         amount: 200,\n        //         imageUrl: '',\n        //         itemName: 'Reebok shoes',\n        //         description: 'This is reebok shoes'\n        //     }\n        // ]\n        setOrder(response.data)\n    }\n    return (\n        <div className='container-fluid profile-container'>\n            <Header />\n            <div className=\"row\">\n                <div className=\"col-md-12 profile-head\">\n                    <p><b>Welcome {userData?.username}</b> | {userData?.email}</p>\n                </div>\n                <div className=\"col-md-12\">\n                    <div className=\"row\">\n                        <div className=\"col-md-12\">\n                            <h5 className='text-center'>Your Orders</h5>\n                        </div>\n                    </div>\n                    {/* <div className=\"row\">\n                        {order ? order.map(element => {\n                            return (<div className='col-md-3 mb-2' key={element?.id}>\n                                <div className=\"card\" style={{ width: \"15rem\" }}>\n                                    <img src={element?.imageUrl} className=\"img-fluid card-image\" alt=\"\" />\n                                    <div className=\"card-body\">\n                                        <h5 className=\"card-title\">â‚¹{element?.amount}</h5>\n                                        <p className=\"card-text\">{element?.itemName}</p>\n                                        <p className=\"card-text\">{element?.description}</p>\n                                        <a className='btn btn-outline-primary' onClick={() => navigate('/order')}>Order Details</a>\n                                    </div>\n                                </div>\n                            </div>)\n                        }) : <></>}\n                    </div> */}\n                    <div className='row'>\n                        <div className=\"col-md-12 p-2\">\n                            <table className='table'>\n                                <thead>\n                                    <tr>\n                                        <th>Name</th>\n                                        <th>Price</th>\n                                        <th>Quantity</th>\n                                        <th>Total</th>\n                                        <th>Action</th>\n                                    </tr>\n                                </thead>\n                                {\n                                    order === undefined ? <tbody>\n                                        <tr>\n                                            <td></td>\n                                            <td></td>\n                                            <td></td>\n                                            <td></td>\n                                            <td></td>\n                                        </tr>\n                                    </tbody> : <tbody>\n                                        {\n                                            order ? order.map((element) => {\n                                                console.log('element order',element);\n                                               return element?.item.map(item=>{\n                                                    return (<tr key={item?.id}>\n                                                        <td>{item?.itemName}</td>\n                                                        <td>{item?.cost}</td>\n                                                        <td>{item?.quantity}</td>\n                                                        <td>{item?.price}</td>\n                                                        <td><a className='btn btn-outline-primary' onClick={() => navigate('/order')}>Track</a></td>\n                                                    </tr>)\n                                                })\n                                                \n                                            }) : <></>\n                                        }\n                                    </tbody>\n                                }\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Profile\n"]},"metadata":{},"sourceType":"module"}