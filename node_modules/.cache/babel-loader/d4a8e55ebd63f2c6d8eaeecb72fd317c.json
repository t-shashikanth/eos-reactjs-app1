{"ast":null,"code":"import _asyncToGenerator from\"/home/ec2-user/ShoppingApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/ec2-user/ShoppingApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/ec2-user/ShoppingApp/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import axios from'./api/axios';import Header from'./Header';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var KART_URL='/v1/kart';var Kart=function Kart(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),cart=_useState2[0],setCart=_useState2[1];var navigate=useNavigate();var total=0;var quantity=0;useEffect(function(){getCart();},[]);var getCart=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var id,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log('cartId',localStorage.getItem('cartId'));id=JSON.parse(localStorage.getItem('cartId'));_context.next=4;return axios.get(\"\".concat(KART_URL,\"/\").concat(id));case 4:response=_context.sent;// const response = {\n//   \"id\": 1,\n//   \"userId\": 1,\n//   \"item\": [\n//     {\n//       \"itemId\": \"Reebook Shoes\",\n//       \"quantity\": 2,\n//       \"cost\": 200,\n//       \"price\": 200\n//     },\n//     {\n//       \"itemId\": \"T-Shirt For Mens\",\n//       \"quantity\": 1,\n//       \"cost\": 200,\n//       \"price\": 200\n//     }\n//   ]\n// }\nsetCart(response.data);case 6:case\"end\":return _context.stop();}}},_callee);}));return function getCart(){return _ref.apply(this,arguments);};}();var onCheckout=function onCheckout(element){console.log('cart element',element);if(element!==null&&element!==void 0&&element.id){navigate('/payment',{state:{element:element}});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid vh-100 p-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row mb-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsx(Header,{})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 p-2\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"})]})}),cart===undefined?/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{})]})}):/*#__PURE__*/_jsx(\"tbody\",{children:cart!==null&&cart!==void 0&&cart.item?cart===null||cart===void 0?void 0:cart.item.map(function(element){total+=element===null||element===void 0?void 0:element.price;quantity+=element===null||element===void 0?void 0:element.quantity;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:element===null||element===void 0?void 0:element.itemName}),/*#__PURE__*/_jsx(\"td\",{children:element===null||element===void 0?void 0:element.cost}),/*#__PURE__*/_jsx(\"td\",{children:element===null||element===void 0?void 0:element.quantity}),/*#__PURE__*/_jsx(\"td\",{children:element===null||element===void 0?void 0:element.price})]},element===null||element===void 0?void 0:element.itemId);}):/*#__PURE__*/_jsx(_Fragment,{})})]}),/*#__PURE__*/_jsx(\"h3\",{id:\"cart-total\",children:\"Cart Total\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Cart Totals\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Number of items: \",quantity?quantity:0]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Total: \",total?total:0]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-end pt-5\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary\",onClick:function onClick(){return onCheckout(cart);},children:\"Checkout\"})})]})})]});};export default Kart;","map":{"version":3,"sources":["/home/ec2-user/ShoppingApp/src/Kart.jsx"],"names":["React","useState","useEffect","useNavigate","axios","Header","KART_URL","Kart","props","cart","setCart","navigate","total","quantity","getCart","console","log","localStorage","getItem","id","JSON","parse","get","response","data","onCheckout","element","state","undefined","item","map","price","itemName","cost","itemId"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom';\nimport axios from './api/axios'\nimport Header from './Header';\nconst KART_URL = '/v1/kart'\n\nconst Kart = (props) => {\n  const [cart, setCart] = useState()\n  const navigate = useNavigate()\n  let total = 0\n  let quantity = 0\n  useEffect(() => {\n    getCart()\n  }, [])\n\n  const getCart = async() => {\n    console.log('cartId',localStorage.getItem('cartId'));\n    let id = JSON.parse(localStorage.getItem('cartId'))\n    const response = await axios.get(`${KART_URL}/${id}`)\n    // const response = {\n    //   \"id\": 1,\n    //   \"userId\": 1,\n    //   \"item\": [\n    //     {\n    //       \"itemId\": \"Reebook Shoes\",\n    //       \"quantity\": 2,\n    //       \"cost\": 200,\n    //       \"price\": 200\n    //     },\n    //     {\n    //       \"itemId\": \"T-Shirt For Mens\",\n    //       \"quantity\": 1,\n    //       \"cost\": 200,\n    //       \"price\": 200\n    //     }\n    //   ]\n    // }\n    setCart(response.data)\n  }\n\n  const onCheckout=(element)=>{\n    console.log('cart element',element);\n    if (element?.id) {\n      navigate('/payment',{state:{element:element}})\n    }\n  }\n\n  return (\n    <div className='container-fluid vh-100 p-2'>\n      <div className=\"row mb-2\">\n          <div className=\"col-md-12\">\n            <Header/>\n          </div>\n        </div>\n      <div className='row'>\n        <div className=\"col-md-12 p-2\">\n          <table className='table'>\n            <thead>\n              <tr>\n                <th>Name</th>\n                <th>Price</th>\n                <th>Quantity</th>\n                <th>Total</th>\n              </tr>\n            </thead>\n            {\n              cart===undefined?<tbody>\n              <tr>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n              </tr>\n            </tbody>:<tbody>\n              {\n                cart?.item?cart?.item.map((element) => {\n                  total += element?.price\n                  quantity += element?.quantity\n                  return (<tr key={element?.itemId}>\n                    <td>{element?.itemName}</td>\n                    <td>{element?.cost}</td>\n                    <td>{element?.quantity}</td>\n                    <td>{element?.price}</td>\n                  </tr>)\n                }):<></>\n              }\n            </tbody>\n            } \n          </table>\n          <h3 id=\"cart-total\">Cart Total</h3>\n          <div className='d-flex justify-content-between'>\n            <span>Cart Totals</span>\n            <span>Number of items: {quantity?quantity:0}</span>\n            <span>Total: {total?total:0}</span>\n          </div>\n          <div className='d-flex justify-content-end pt-5'>\n            <button className='btn btn-outline-primary' onClick={()=>onCheckout(cart)}>Checkout</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Kart"]},"metadata":{},"sourceType":"module"}